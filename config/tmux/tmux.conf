#―――――――――――――――――――――――――――――――
# defaults
#―――――――――――――――――――――――――――――――

# shell
set -g default-shell /bin/zsh
set-option -g default-command zsh

# color support
set -g default-terminal screen-256color
set-option -sa terminal-overrides ",xterm-256color:RGB"

# enable mouse
set -g mouse on
set-option -g focus-events on

# history scrollback
set -g history-limit 50000000

# first pane will be 1 instead of 0
set -g base-index 1

# dont wait after prefix keypress
set -s escape-time 0

# for 3rd/image.nvim
set -gq allow-passthrough on
set -g visual-activity off

#―――――――――――――――――――――――――――――――
# key bindings
#―――――――――――――――――――――――――――――――

# set prefix to ctrl+a
unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix

# switch between next/prev window
bind-key a previous-window
bind-key C-a next-window

bind r source-file ~/.tmux.conf \; display-message '.tmux.conf file reloaded'

# show/hide the status bar
bind s set-option -g status

#―――――――――――――――――――――――――――――――
# look and feel
#―――――――――――――――――――――――――――――――

# status bar position
set -g status-position bottom

# refresh seconds
set -g status-interval 5

# message color
set-option -g message-style "bg=magenta,fg=black,bold"

# pane border lines
set-option -g pane-border-lines single

# pane border colors
set -g pane-border-style "fg=colour237,bg=default"
set -g pane-active-border-style "fg=colour237,bg=default"

# window title colors
set-window-option -g window-status-style "fg=magenta"
set-window-option -g window-status-style "bg=default"

# window colors
set -g window-style "fg=default,bg=default"
set -g window-active-style "fg=default,bg=default"

#―――――――――――――――――――――――――――――――
# mimimal tmux
#―――――――――――――――――――――――――――――――

set -g @minimal-tmux-fg "#21262e"
set -g @minimal-tmux-bg "#61afef"
set -g @minimal-tmux-justify "centre"
set -g @minimal-tmux-indicator-str "  tmux  "
set -g @minimal-tmux-indicator true
set -g @minimal-tmux-status "bottom"

# enables or disables the left and right status bar
set -g @minimal-tmux-right true
set -g @minimal-tmux-left true

# expanded icon (fullscreen icon)
set -g @minimal-tmux-expanded-icon "󰊓 "

# false will make it visible for the current tab only
set -g @minimal-tmux-show-expanded-icons-for-all-tabs true

# to add or remove extra text in status bar
set -g @minimal-tmux-status-right-extra "" # "#[fg=#abb2bf] %l:%M %p  "
set -g @minimal-tmux-status-left-extra ""

# to make the selection box rounded () or edged <>
# default is nothing, when set to true default is edged
set -g @minimal-tmux-use-arrow false
set -g @minimal-tmux-right-arrow "#[fg=#abb2bf]▊"
set -g @minimal-tmux-left-arrow "#[fg=#abb2bf]▊"

# not recommended to change these values
set -g @minimal-tmux-status-right "#[fg=#abb2bf] "
set -g @minimal-tmux-status-left "#[fg=#abb2bf] "

# if getting strings cut in left status or right
# here 20 is the length of the characters in the string
set -g status-right-length 20
set -g status-left-length 20

#―――――――――――――――――――――――――――――――
# status bar style
#―――――――――――――――――――――――――――――――

# status bar style
# set -g status-left-length 85
# set -g status-left " working on#[fg=colour135,bg=green] #S"
# set -g window-status-current-format "#[fg=black,bold bg=default]│#[fg=white bg=cyan]#W#[fg=black,bold bg=default]│"
# set -g window-status-current-format "#[fg=black,bold bg=default]│#[fg=colour135 bg=black]#W#[fg=black,bold bg=default]│"
# set -g status-style "bg=#21262e"
# set -g status-right "#[fg=magenta] #[bg=gray] %b %d %Y %l:%M %p"
# set -g status-right "#(gitmux '#{pane_current_path}')"
# set -g status-justify right

#―――――――――――――――――――――――――――――――
# vim bindings
#―――――――――――――――――――――――――――――――

set-window-option -g mode-keys vi
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel 'xclip -in -selection clipboard'

bind s choose-tree -s -O name

# vim-like pane resizing  
bind -r C-k resize-pane -U
bind -r C-j resize-pane -D
bind -r C-h resize-pane -L
bind -r C-l resize-pane -R

# vim-like pane switching
bind -r ^ last-window
bind -r k select-pane -U
bind -r j select-pane -D
bind -r h select-pane -L
bind -r l select-pane -R

# and now unbind keys
unbind Up     
unbind Down   
unbind Left   
unbind Right  

unbind C-Up   
unbind C-Down 
unbind C-Left 
unbind C-Right

#―――――――――――――――――――――――――――――――
# plugins
#―――――――――――――――――――――――――――――――

set -g @plugin "tmux-plugins/tpm"
set -g @plugin "tmux-plugins/tmux-sensible"
set -g @plugin "niksingh710/minimal-tmux-status"
set -g @plugin "tmux-plugins/tmux-prefix-highlight"
set -g @plugin "fcsonline/tmux-thumbs"
set -g @plugin 'KeitaNakamura/neodark.vim'

run "~/.tmux/plugins/tpm/tpm"

